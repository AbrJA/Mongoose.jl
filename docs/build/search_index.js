var documenterSearchIndex = {"docs":
[{"location":"api.html#API","page":"API","title":"API","text":"","category":"section"},{"location":"api.html#Mongoose.route!-Tuple{Mongoose.Server, Symbol, String, Function}","page":"API","title":"Mongoose.route!","text":"route!(server::Server, method::Symbol, path::String, handler::Function)\nRegisters an HTTP request handler for a specific method and URI.\n# Arguments\n- `server::Server`: The server to register the handler with.\n- `method::Symbol`: The HTTP method (e.g., :get, :post, :put, :patch, :delete).\n- `path::String`: The URI path to register the handler for (e.g., \"/api/users\").\n- `handler::Function`: The Julia function to be called when a matching request arrives.\nThis function should accept a `Request` object as its first argument, followed by any additional keyword arguments.\n\n\n\n\n\n","category":"method"},{"location":"api.html#Mongoose.shutdown!-Tuple{Mongoose.Server}","page":"API","title":"Mongoose.shutdown!","text":"shutdown!(server::Server)\nStops the running Mongoose HTTP server. Sets a flag to stop the background event loop task, and then frees the Mongoose associated resources.\nArguments\n- `server::Server`: The server object to shutdown.\n\n\n\n\n\n","category":"method"},{"location":"api.html#Mongoose.start!-Tuple{Mongoose.Server}","page":"API","title":"Mongoose.start!","text":"start!(server::Server; host::AbstractString=\"127.0.0.1\", port::Integer=8080, blocking::Bool=false)\n\nStarts the Mongoose HTTP server. Initialize the Mongoose manager, binds an HTTP listener, and starts a background Task to poll the Mongoose event loop.\n\nArguments\n- `server::Server`: The server object to start.\n- `host::AbstractString=\"127.0.0.1\"`: The IP address or hostname to listen on. Defaults to \"127.0.0.1\" (localhost).\n- `port::Integer=8080`: The port number to listen on. Defaults to 8080.\n- `blocking::Bool=true`: If true, blocks until the server is stopped. If false, runs the server in a non-blocking mode.\n\n\n\n\n\n","category":"method"},{"location":"examples.html#Examples","page":"Examples","title":"Examples","text":"","category":"section"},{"location":"examples.html#Basic-Setup","page":"Examples","title":"Basic Setup","text":"","category":"section"},{"location":"examples.html","page":"Examples","title":"Examples","text":"First, load the package:","category":"page"},{"location":"examples.html","page":"Examples","title":"Examples","text":"using Mongoose","category":"page"},{"location":"examples.html#GET-Endpoint-with-Query-Parameters","page":"Examples","title":"GET Endpoint with Query Parameters","text":"","category":"section"},{"location":"examples.html","page":"Examples","title":"Examples","text":"This example demonstrates how to parse query parameters from the request URI.","category":"page"},{"location":"examples.html","page":"Examples","title":"Examples","text":"using Mongoose\n\nserver = SyncServer()\n\nfunction greet(req::Request, params::Dict{String,String})\n    # Simple query parsing (for demonstration)\n    # In a real app, you might want a more robust query parser\n    query_str = req.query\n    name = \"unknown person\"\n\n    if !isempty(query_str)\n        # simplistic parsing looking for \"name=...\"\n        m = match(r\"name=([^&]*)\", query_str)\n        if m !== nothing\n            name = m.captures[1]\n        end\n    end\n\n    return Response(200, Dict(\"Content-Type\" => \"text/plain\"), \"Hi $name\")\nend\n\nroute!(server, :get, \"/greet\", greet)\n\n# Start server on port 8080\nstart!(server, port=8080)","category":"page"},{"location":"examples.html#POST-Endpoint-with-JSON-Body","page":"Examples","title":"POST Endpoint with JSON Body","text":"","category":"section"},{"location":"examples.html","page":"Examples","title":"Examples","text":"This example shows how to handle a POST request and parse a JSON body.","category":"page"},{"location":"examples.html","page":"Examples","title":"Examples","text":"using Mongoose\nusing JSON\n\nserver = SyncServer()\n\nfunction saygoodbye(req::Request, params::Dict{String,String})\n    try\n        data = JSON.parse(req.body)\n        name = get(data, \"name\", \"Friend\")\n\n        response_data = Dict(\"message\" => \"Goodbye, $name!\")\n        return Response(200, Dict(\"Content-Type\" => \"application/json\"), JSON.json(response_data))\n    catch e\n        return Response(400, Dict(\"Content-Type\" => \"text/plain\"), \"Invalid JSON\")\n    end\nend\n\nroute!(server, :post, \"/saygoodbye\", saygoodbye)\n\nstart!(server, port=8081)","category":"page"},{"location":"examples.html#Async-Server-with-Multithreading","page":"Examples","title":"Async Server with Multithreading","text":"","category":"section"},{"location":"examples.html","page":"Examples","title":"Examples","text":"For higher performance, use AsyncServer and start Julia with multiple threads (julia -t 4).","category":"page"},{"location":"examples.html","page":"Examples","title":"Examples","text":"using Mongoose\n\n# Create an async server with 4 worker threads\nserver = AsyncServer(nworkers=4)\n\nfunction heavy_task(req::Request, params::Dict{String,String})\n    # Simulate work\n    s = sum(rand(1000000))\n    return Response(200, Dict(\"Content-Type\" => \"text/plain\"), \"Computed: $s\")\nend\n\nroute!(server, :get, \"/compute\", heavy_task)\n\n# Start non-blocking\nstart!(server, port=8082, blocking=false)\n\n# Do other things...\n\n# Shutdown when done\nshutdown!(server)","category":"page"},{"location":"examples.html#Path-Parameters","page":"Examples","title":"Path Parameters","text":"","category":"section"},{"location":"examples.html","page":"Examples","title":"Examples","text":"Mongoose.jl supports dynamic path parameters.","category":"page"},{"location":"examples.html","page":"Examples","title":"Examples","text":"using Mongoose\n\nserver = SyncServer()\n\nfunction get_user(req::Request, params::Dict{String,String})\n    user_id = params[\"id\"]\n    return Response(200, Dict(\"Content-Type\" => \"text/plain\"), \"User ID: $user_id\")\nend\n\n# Define route with parameter :id\nroute!(server, :get, \"/users/:id\", get_user)\n\nstart!(server, port=8083)","category":"page"},{"location":"index.html#Mongoose.jl","page":"Introduction","title":"Mongoose.jl","text":"","category":"section"},{"location":"index.html","page":"Introduction","title":"Introduction","text":"Mongoose.jl is a Julia package that provides a lightweight and efficient interface for building HTTP servers and web applications. It leverages the Mongoose C library to deliver fast, embeddable web server capabilities directly from Julia code.","category":"page"},{"location":"index.html#Installation","page":"Introduction","title":"Installation","text":"","category":"section"},{"location":"index.html","page":"Introduction","title":"Introduction","text":"] add Mongoose","category":"page"},{"location":"index.html#Quick-Start","page":"Introduction","title":"Quick Start","text":"","category":"section"},{"location":"index.html","page":"Introduction","title":"Introduction","text":"Here is a simple example of how to create a synchronous server and define a basic route.","category":"page"},{"location":"index.html","page":"Introduction","title":"Introduction","text":"using Mongoose\n\n# Create a synchronous server\nserver = SyncServer()\n\n# Define a handler function\nfunction hello_world(req::Request, params::Dict{String,String})\n    return Response(200, Dict(\"Content-Type\" => \"text/plain\"), \"Hello from Mongoose.jl!\")\nend\n\n# Register the route\nroute!(server, :get, \"/hello\", hello_world)\n\n# Start the server\nstart!(server, port=8000)\n\n# When done, shutdown the server\nshutdown!(server)","category":"page"},{"location":"index.html#Core-Concepts","page":"Introduction","title":"Core Concepts","text":"","category":"section"},{"location":"index.html#Server-Types","page":"Introduction","title":"Server Types","text":"","category":"section"},{"location":"index.html","page":"Introduction","title":"Introduction","text":"SyncServer: Runs the event loop in the main thread. This is a blocking operation, suitable for simple scripts or when you want the server to control the main execution flow.\nAsyncServer: Runs the event loop in a background task. This allows the main thread to continue executing other code, making it ideal for interactive sessions or more complex applications.","category":"page"},{"location":"index.html#Handlers","page":"Introduction","title":"Handlers","text":"","category":"section"},{"location":"index.html","page":"Introduction","title":"Introduction","text":"Handlers are Julia functions that process incoming requests. They must accept two arguments:","category":"page"},{"location":"index.html","page":"Introduction","title":"Introduction","text":"req::Request: Contains details about the HTTP request (method, URI, headers, body, etc.).\nparams::Dict{String,String}: Contains path parameters captured from the URI.","category":"page"},{"location":"index.html","page":"Introduction","title":"Introduction","text":"The handler must return a Response object.","category":"page"},{"location":"index.html#Examples","page":"Introduction","title":"Examples","text":"","category":"section"},{"location":"index.html","page":"Introduction","title":"Introduction","text":"More comprehensive examples demonstrating various use cases and features can be found on the Examples page.","category":"page"},{"location":"index.html#API","page":"Introduction","title":"API","text":"","category":"section"},{"location":"index.html","page":"Introduction","title":"Introduction","text":"The full API documentation, including all functions and types, is available on the API page.","category":"page"},{"location":"index.html#Contributing","page":"Introduction","title":"Contributing","text":"","category":"section"},{"location":"index.html","page":"Introduction","title":"Introduction","text":"Contributions are welcome! Please see the Contributing page for guidelines.","category":"page"},{"location":"index.html#License","page":"Introduction","title":"License","text":"","category":"section"},{"location":"index.html","page":"Introduction","title":"Introduction","text":"This package is distributed under the GPL-2 License.","category":"page"}]
}
